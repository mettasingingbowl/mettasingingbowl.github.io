<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tr·∫Øc nghi·ªám Th·ªÉ T·∫°ng Dosha - T√¨m Yoga ph√π h·ª£p | Metta Yoga ƒê√† L·∫°t</title>
  
  <!-- SEO & Social Sharing -->
  <meta name="description" content="Kh√°m ph√° th·ªÉ t·∫°ng Dosha (Vata, Pitta, Kapha) c·ªßa b·∫°n qua 20 c√¢u h·ªèi. T√¨m ra tr∆∞·ªùng ph√°i Yoga ph√π h·ª£p v·ªõi c∆° ƒë·ªãa v√† t√≠nh c√°ch c·ªßa b·∫°n.">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mettasingingbowl.github.io/yoga/trac_nghiem_dosha.html">
  <meta property="og:title" content="üßò Tr·∫Øc Nghi·ªám Th·ªÉ T·∫°ng Dosha - T√¨m Yoga Ph√π H·ª£p">
  <meta property="og:description" content="B·∫°n l√† Vata, Pitta hay Kapha? 20 c√¢u h·ªèi gi√∫p b·∫°n hi·ªÉu r√µ th·ªÉ t·∫°ng v√† t√¨m ra tr∆∞·ªùng ph√°i Yoga ph√π h·ª£p nh·∫•t!">
  <meta property="og:image" content="https://mettasingingbowl.github.io/yoga/assets/og-dosha.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Metta Yoga ƒê√† L·∫°t">
  <meta property="og:locale" content="vi_VN">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="üßò Tr·∫Øc Nghi·ªám Th·ªÉ T·∫°ng Dosha - T√¨m Yoga Ph√π H·ª£p">
  <meta name="twitter:description" content="B·∫°n l√† Vata, Pitta hay Kapha? 20 c√¢u h·ªèi gi√∫p b·∫°n hi·ªÉu r√µ th·ªÉ t·∫°ng v√† t√¨m ra tr∆∞·ªùng ph√°i Yoga ph√π h·ª£p nh·∫•t!">
  <meta name="twitter:image" content="https://mettasingingbowl.github.io/yoga/assets/og-dosha.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --terracotta-light: #D4A574;
      --terracotta: #C4956A;
      --terracotta-deep: #A67B5B;
      --earth-brown: #6B4423;
      --earth-dark: #4A2F1A;
      --cream: #FDF8F3;
      --cream-warm: #F5EDE4;
      --sand: #E8DFD4;
      --text-dark: #3D2914;
      --text-soft: #6B5344;
      --gold-soft: #D4A574;
      --vata: #7E57C2;
      --pitta: #EF5350;
      --kapha: #26A69A;
    }
    body {
      font-family: 'Quicksand', sans-serif;
      line-height: 1.8;
      background: linear-gradient(165deg, var(--cream) 0%, var(--cream-warm) 50%, var(--sand) 100%);
      min-height: 100vh;
      color: var(--text-dark);
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: var(--terracotta-deep);
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 30px;
      transition: color 0.3s;
    }
    .back-link:hover { color: var(--earth-brown); }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 24px 60px;
    }
    h1 {
      font-family: 'Cormorant Garamond', serif;
      text-align: center;
      margin-bottom: 12px;
      font-size: 2.5rem;
      font-weight: 400;
      color: var(--earth-brown);
      letter-spacing: 2px;
    }
    .subtitle {
      text-align: center;
      margin-bottom: 30px;
      color: var(--text-soft);
      font-size: 1.05rem;
    }
    .hint {
      background: white;
      padding: 1.5rem;
      border-radius: 16px;
      font-size: 0.95rem;
      color: var(--text-soft);
      margin-bottom: 30px;
      border: 1px solid rgba(196, 149, 106, 0.2);
      box-shadow: 0 4px 20px rgba(107, 68, 35, 0.06);
    }
    .hint strong { color: var(--earth-brown); }
    .dosha-intro {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 16px;
    }
    .dosha-intro-item {
      padding: 12px;
      border-radius: 12px;
      text-align: center;
      font-size: 0.85rem;
    }
    .dosha-intro-item.vata { background: rgba(126, 87, 194, 0.1); color: var(--vata); }
    .dosha-intro-item.pitta { background: rgba(239, 83, 80, 0.1); color: var(--pitta); }
    .dosha-intro-item.kapha { background: rgba(38, 166, 154, 0.1); color: var(--kapha); }
    .dosha-intro-item strong { display: block; font-size: 1rem; margin-bottom: 4px; }
    section.part {
      margin-bottom: 24px;
      padding: 24px;
      border-radius: 16px;
      background: white;
      border: 1px solid rgba(196, 149, 106, 0.15);
      box-shadow: 0 4px 20px rgba(107, 68, 35, 0.06);
    }
    section.part h2 {
      font-family: 'Cormorant Garamond', serif;
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 1.4rem;
      font-weight: 500;
      color: var(--earth-brown);
    }
    .question {
      margin-bottom: 20px;
      padding-bottom: 20px;
      border-bottom: 1px dashed rgba(196, 149, 106, 0.3);
    }
    .question:last-child { border-bottom: none; padding-bottom: 0; }
    .question-text {
      margin-bottom: 14px;
      font-weight: 600;
      color: var(--text-dark);
      line-height: 1.6;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .options label {
      display: flex;
      align-items: center;
      min-height: 48px;
      padding: 12px 18px;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      transition: all 0.25s ease;
      background: linear-gradient(145deg, var(--cream), var(--sand));
      box-shadow: 0 2px 8px rgba(107, 68, 35, 0.08);
      font-weight: 500;
      color: var(--text-soft);
      position: relative;
      line-height: 1.5;
    }
    .options label:hover {
      background: linear-gradient(145deg, #fff, var(--cream-warm));
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(107, 68, 35, 0.12);
      color: var(--earth-brown);
    }
    .options label:has(input:checked),
    .options label.selected {
      background: linear-gradient(145deg, var(--terracotta), var(--terracotta-deep));
      color: #fff;
      font-weight: 600;
      box-shadow: 0 4px 14px rgba(166, 123, 91, 0.4);
      transform: translateY(-1px);
    }
    .options label:active { transform: scale(0.98); }
    .options input[type="radio"] {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }
    button {
      background: linear-gradient(135deg, var(--terracotta) 0%, var(--terracotta-deep) 100%);
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 999px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      margin-top: 12px;
      transition: all 0.3s ease;
      font-family: 'Quicksand', sans-serif;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(166, 123, 91, 0.35);
    }
    .share-buttons { margin-top: 16px; }
    .share-btn {
      background: var(--earth-brown);
      color: var(--cream);
      border: none;
      padding: 12px 20px;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      margin-top: 8px;
      transition: all 0.3s ease;
      font-family: 'Quicksand', sans-serif;
    }
    .share-btn:hover { background: var(--earth-dark); }
    #results {
      margin-top: 30px;
      padding: 24px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(196, 149, 106, 0.1) 0%, rgba(201, 184, 150, 0.08) 100%);
      border: 1px solid rgba(196, 149, 106, 0.25);
      font-size: 1rem;
    }
    #results h3 {
      font-family: 'Cormorant Garamond', serif;
      color: var(--earth-brown);
      font-size: 1.5rem;
      margin-bottom: 12px;
    }
    .dosha-result {
      display: flex;
      gap: 16px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .dosha-score {
      flex: 1;
      min-width: 100px;
      padding: 16px;
      border-radius: 16px;
      text-align: center;
    }
    .dosha-score.vata { background: rgba(126, 87, 194, 0.15); }
    .dosha-score.pitta { background: rgba(239, 83, 80, 0.15); }
    .dosha-score.kapha { background: rgba(38, 166, 154, 0.15); }
    .dosha-score .name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .dosha-score.vata .name { color: var(--vata); }
    .dosha-score.pitta .name { color: var(--pitta); }
    .dosha-score.kapha .name { color: var(--kapha); }
    .dosha-score .points {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-dark);
    }
    .primary-dosha {
      padding: 20px;
      border-radius: 16px;
      margin: 20px 0;
    }
    .primary-dosha.vata { background: linear-gradient(135deg, rgba(126, 87, 194, 0.2), rgba(126, 87, 194, 0.05)); border-left: 4px solid var(--vata); }
    .primary-dosha.pitta { background: linear-gradient(135deg, rgba(239, 83, 80, 0.2), rgba(239, 83, 80, 0.05)); border-left: 4px solid var(--pitta); }
    .primary-dosha.kapha { background: linear-gradient(135deg, rgba(38, 166, 154, 0.2), rgba(38, 166, 154, 0.05)); border-left: 4px solid var(--kapha); }
    .primary-dosha h4 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.4rem;
      margin-bottom: 12px;
    }
    .primary-dosha.vata h4 { color: var(--vata); }
    .primary-dosha.pitta h4 { color: var(--pitta); }
    .primary-dosha.kapha h4 { color: var(--kapha); }
    .primary-dosha.dual { background: linear-gradient(135deg, rgba(196, 149, 106, 0.15), rgba(201, 184, 150, 0.1)); border-left: 4px solid var(--terracotta-deep); }
    .primary-dosha.dual h4 { color: var(--earth-brown); }
    .dosha-score.dominant { box-shadow: 0 0 0 3px var(--terracotta); transform: scale(1.05); }
    .primary-dosha p { margin-bottom: 10px; line-height: 1.7; }
    .primary-dosha ul { margin: 12px 0; padding-left: 20px; }
    .primary-dosha li { margin-bottom: 6px; }
    .yoga-recommendation {
      background: white;
      padding: 16px 20px;
      border-radius: 12px;
      margin-top: 16px;
    }
    .yoga-recommendation strong { color: var(--earth-brown); }
    .footer-note {
      margin-top: 30px;
      font-size: 0.85rem;
      color: var(--text-soft);
      font-style: italic;
      text-align: center;
    }
    @media (max-width: 640px) {
      .container { padding: 24px 16px 40px; }
      h1 { font-size: 1.8rem; }
      section.part { padding: 18px; }
      .dosha-intro { grid-template-columns: 1fr; }
      .dosha-result { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-link">‚Üê Quay l·∫°i Metta Yoga</a>
    <h1>Tr·∫Øc Nghi·ªám Th·ªÉ T·∫°ng Dosha</h1>
    <p class="subtitle">Kh√°m ph√° th·ªÉ t·∫°ng Ayurveda c·ªßa b·∫°n v√† t√¨m ra tr∆∞·ªùng ph√°i Yoga ph√π h·ª£p nh·∫•t.</p>

    <div class="hint">
      <strong>Dosha l√† g√¨?</strong> Theo Ayurveda (y h·ªçc c·ªï truy·ªÅn ·∫§n ƒê·ªô), m·ªói ng∆∞·ªùi c√≥ m·ªôt th·ªÉ t·∫°ng ri√™ng g·ªçi l√† Dosha, ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ 3 nƒÉng l∆∞·ª£ng: Vata, Pitta v√† Kapha.
      <div class="dosha-intro">
        <div class="dosha-intro-item vata">
          <strong>Vata</strong>
          Gi√≥ ‚Äì Nh·∫π, linh ho·∫°t, s√°ng t·∫°o
        </div>
        <div class="dosha-intro-item pitta">
          <strong>Pitta</strong>
          L·ª≠a ‚Äì M·∫°nh m·∫Ω, quy·∫øt ƒëo√°n, nhi·ªát huy·∫øt
        </div>
        <div class="dosha-intro-item kapha">
          <strong>Kapha</strong>
          ƒê·∫•t & N∆∞·ªõc ‚Äì V·ªØng ch√£i, b·ªÅn b·ªâ, ƒëi·ªÅm tƒ©nh
        </div>
      </div>
    </div>

    <form id="doshaQuiz">
      <!-- PH·∫¶N I: ƒê·∫∂C ƒêI·ªÇM C∆† TH·ªÇ -->
      <section class="part">
        <h2>Ph·∫ßn I ‚Äì ƒê·∫∑c ƒëi·ªÉm c∆° th·ªÉ t·ª± nhi√™n</h2>

        <div class="question">
          <div class="question-text">1. Th√¢n h√¨nh t·ª± nhi√™n c·ªßa b·∫°n th∆∞·ªùng l√†‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q1" value="V">M·∫£nh mai, nh·∫π, g·∫ßy, d·ªÖ s·ª•t c√¢n</label>
            <label><input type="radio" name="q1" value="P">V·ª´a ph·∫£i, c√¢n ƒë·ªëi, c√≥ c∆°</label>
            <label><input type="radio" name="q1" value="K">To, ƒë·∫ßy ƒë·∫∑n, d·ªÖ tƒÉng c√¢n</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">2. Da c·ªßa b·∫°n th∆∞·ªùng‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q2" value="V">Kh√¥, d·ªÖ n·ª©t, nh·∫°y c·∫£m</label>
            <label><input type="radio" name="q2" value="P">·∫§m, h∆°i ƒë·ªè, d·ªÖ n·ªïi m·ª•n</label>
            <label><input type="radio" name="q2" value="K">M·ªãn, h∆°i d·∫ßu ho·∫∑c ·∫©m</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">3. B·∫°n c·∫£m th·∫•y th·∫ø n√†o v·ªõi th·ªùi ti·∫øt l·∫°nh?</div>
          <div class="options">
            <label><input type="radio" name="q3" value="V">R·∫•t d·ªÖ l·∫°nh, ch·ªãu l·∫°nh k√©m</label>
            <label><input type="radio" name="q3" value="P">Ch·ªãu l·∫°nh t·ªët, nh∆∞ng d·ªÖ n√≥ng</label>
            <label><input type="radio" name="q3" value="K">Ch·ªãu l·∫°nh kh√° t·ªët nh∆∞ng gh√©t ·∫©m</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">4. T·ªëc ƒë·ªô ti√™u h√≥a c·ªßa b·∫°n‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q4" value="V">Kh√¥ng ·ªïn ƒë·ªãnh, l√∫c nhanh l√∫c ch·∫≠m</label>
            <label><input type="radio" name="q4" value="P">M·∫°nh, nhanh, d·ªÖ ƒë√≥i</label>
            <label><input type="radio" name="q4" value="K">Ch·∫≠m, d·ªÖ ƒë·∫ßy b·ª•ng, no l√¢u</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">5. Khi ng·ªß, b·∫°n th∆∞·ªùng‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q5" value="V">Ng·ªß kh√¥ng s√¢u, d·ªÖ t·ªânh</label>
            <label><input type="radio" name="q5" value="P">Ng·ªß v·ª´a ph·∫£i, ƒë√¥i khi m∆° nhi·ªÅu</label>
            <label><input type="radio" name="q5" value="K">Ng·ªß s√¢u, d·ªÖ bu·ªìn ng·ªß</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">6. T·ªëc ƒë·ªô tƒÉng c√¢n ‚Äì gi·∫£m c√¢n c·ªßa b·∫°n‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q6" value="V">D·ªÖ gi·∫£m c√¢n, kh√≥ tƒÉng c√¢n</label>
            <label><input type="radio" name="q6" value="P">C√¢n b·∫±ng, tƒÉng gi·∫£m ƒë·ªÅu</label>
            <label><input type="radio" name="q6" value="K">D·ªÖ tƒÉng c√¢n, kh√≥ gi·∫£m</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">7. B·∫°n m√¥ t·∫£ nƒÉng l∆∞·ª£ng c∆° th·ªÉ m·ªói ng√†y nh∆∞ th·∫ø n√†o?</div>
          <div class="options">
            <label><input type="radio" name="q7" value="V">L√™n xu·ªëng th·∫•t th∆∞·ªùng</label>
            <label><input type="radio" name="q7" value="P">·ªîn ƒë·ªãnh v√† m·∫°nh m·∫Ω</label>
            <label><input type="radio" name="q7" value="K">Ch·∫≠m nh∆∞ng b·ªÅn v·ªØng</label>
          </div>
        </div>
      </section>

      <!-- PH·∫¶N II: T√çNH C√ÅCH & SUY NGHƒ® -->
      <section class="part">
        <h2>Ph·∫ßn II ‚Äì T√≠nh c√°ch & Suy nghƒ©</h2>

        <div class="question">
          <div class="question-text">8. Phong c√°ch suy nghƒ© c·ªßa b·∫°n:</div>
          <div class="options">
            <label><input type="radio" name="q8" value="V">Nhi·ªÅu √Ω t∆∞·ªüng, s√°ng t·∫°o, nghƒ© nhanh</label>
            <label><input type="radio" name="q8" value="P">R√µ r√†ng, logic, ƒë·ªãnh h∆∞·ªõng m·ª•c ti√™u</label>
            <label><input type="radio" name="q8" value="K">ƒêi·ªÅm ƒë·∫°m, ·ªïn ƒë·ªãnh, suy nghƒ© ch·∫≠m m√† ch·∫Øc</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">9. Khi l√†m vi·ªác nh√≥m, b·∫°n l√† ki·ªÉu ng∆∞·ªùi‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q9" value="V">ƒê√≥ng g√≥p √Ω t∆∞·ªüng nh∆∞ng d·ªÖ ph√¢n t√°n</label>
            <label><input type="radio" name="q9" value="P">L√£nh ƒë·∫°o t·ª± nhi√™n, mu·ªën m·ªçi th·ª© hi·ªáu qu·∫£</label>
            <label><input type="radio" name="q9" value="K">Ki√™n tr√¨, h·ªó tr·ª£ t·ªët, kh√¥ng v·ªôi v√†ng</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">10. Khi c·∫£m x√∫c thay ƒë·ªïi, b·∫°n th∆∞·ªùng‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q10" value="V">Lo l·∫Øng, nh·∫°y c·∫£m</label>
            <label><input type="radio" name="q10" value="P">N√≥ng gi·∫≠n, m·∫•t ki√™n nh·∫´n</label>
            <label><input type="radio" name="q10" value="K">Bu·ªìn n·∫∑ng, ch·∫≠m l·∫°i</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">11. Quy·∫øt ƒë·ªãnh c·ªßa b·∫°n th∆∞·ªùng‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q11" value="V">Thay ƒë·ªïi nhanh, kh√≥ gi·ªØ</label>
            <label><input type="radio" name="q11" value="P">Quy·∫øt ƒëo√°n, r√µ r√†ng</label>
            <label><input type="radio" name="q11" value="K">Ch·∫≠m nh∆∞ng ch·∫Øc, ƒë√£ quy·∫øt l√† gi·ªØ</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">12. M·ª©c ƒë·ªô ki√™n tr√¨ v·ªõi th√≥i quen m·ªõi:</div>
          <div class="options">
            <label><input type="radio" name="q12" value="V">D·ªÖ b·ªè, d·ªÖ ch√°n</label>
            <label><input type="radio" name="q12" value="P">C·ª±c k·ª≥ ki√™n tr√¨, mu·ªën ti·∫øn b·ªô r√µ r√†ng</label>
            <label><input type="radio" name="q12" value="K">B·∫Øt ƒë·∫ßu ch·∫≠m nh∆∞ng duy tr√¨ r·∫•t t·ªët</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">13. Nh·ªãp ƒë·ªô giao ti·∫øp x√£ h·ªôi c·ªßa b·∫°n:</div>
          <div class="options">
            <label><input type="radio" name="q13" value="V">Linh ho·∫°t, th√≠ch n√≥i chuy·ªán</label>
            <label><input type="radio" name="q13" value="P">H√≤a ƒë·ªìng, th·∫≥ng th·∫Øn</label>
            <label><input type="radio" name="q13" value="K">Tr·∫ßm ·ªïn, h√≤a nh√£ nh∆∞ng √≠t n√≥i</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">14. Khi b·ªã √°p l·ª±c, b·∫°n ph·∫£n ·ª©ng th·∫ø n√†o?</div>
          <div class="options">
            <label><input type="radio" name="q14" value="V">Lo·∫°n, m·∫•t t·∫≠p trung</label>
            <label><input type="radio" name="q14" value="P">CƒÉng th·∫≥ng, c√°u g·∫Øt</label>
            <label><input type="radio" name="q14" value="K">Ch·∫≠m l·∫°i, bu·ªìn ho·∫∑c ƒÉn nhi·ªÅu</label>
          </div>
        </div>
      </section>

      <!-- PH·∫¶N III: L·ªêI S·ªêNG H·∫∞NG NG√ÄY -->
      <section class="part">
        <h2>Ph·∫ßn III ‚Äì L·ªëi s·ªëng h·∫±ng ng√†y</h2>

        <div class="question">
          <div class="question-text">15. T·ªëc ƒë·ªô di chuy·ªÉn ‚Äì c·ª≠ ƒë·ªông c·ªßa b·∫°n:</div>
          <div class="options">
            <label><input type="radio" name="q15" value="V">Nhanh, nh·∫π nh∆∞ng kh√¥ng v·ªØng</label>
            <label><input type="radio" name="q15" value="P">Nhanh, m·∫°nh, r√µ r√†ng</label>
            <label><input type="radio" name="q15" value="K">Ch·∫≠m r√£i, ch·∫Øc ch·∫Øn</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">16. Th√≥i quen ƒÉn u·ªëng:</div>
          <div class="options">
            <label><input type="radio" name="q16" value="V">Thay ƒë·ªïi th·∫•t th∆∞·ªùng, kh√¥ng gi·ªù gi·∫•c</label>
            <label><input type="radio" name="q16" value="P">ƒê√∫ng gi·ªù, ƒÉn ƒë·ªÅu</label>
            <label><input type="radio" name="q16" value="K">ƒÇn √≠t nh∆∞ng d·ªÖ tƒÉng c√¢n</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">17. Khi l√†m vi·ªác l√¢u, b·∫°n‚Ä¶</div>
          <div class="options">
            <label><input type="radio" name="q17" value="V">Mau m·ªát, d·ªÖ m·∫•t nƒÉng l∆∞·ª£ng</label>
            <label><input type="radio" name="q17" value="P">T·∫≠p trung t·ªët, kh√≥ b·ªã gi√°n ƒëo·∫°n</label>
            <label><input type="radio" name="q17" value="K">L√†m b·ªÅn b·ªâ, nh∆∞ng c·∫ßn kh·ªüi ƒë·ªông l√¢u</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">18. L·ªãch sinh ho·∫°t c·ªßa b·∫°n:</div>
          <div class="options">
            <label><input type="radio" name="q18" value="V">Kh√¥ng ·ªïn ƒë·ªãnh, d·ªÖ thay ƒë·ªïi</label>
            <label><input type="radio" name="q18" value="P">R√µ r√†ng, c√≥ k·∫ø ho·∫°ch</label>
            <label><input type="radio" name="q18" value="K">Ch·∫≠m r√£i, th√≠ch s·ª± tho·∫£i m√°i</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">19. Lo·∫°i th·ªùi ti·∫øt b·∫°n y√™u th√≠ch:</div>
          <div class="options">
            <label><input type="radio" name="q19" value="V">·∫§m √°p, kh√¥ r√°o</label>
            <label><input type="radio" name="q19" value="P">M√°t m·∫ª, tr√°nh n√≥ng</label>
            <label><input type="radio" name="q19" value="K">H∆°i n√≥ng, gh√©t l·∫°nh v√† ·∫©m</label>
          </div>
        </div>

        <div class="question">
          <div class="question-text">20. B·∫°n mong mu·ªën ƒëi·ªÅu g√¨ nh·∫•t t·ª´ m·ªôt m√¥n v·∫≠n ƒë·ªông?</div>
          <div class="options">
            <label><input type="radio" name="q20" value="V">S·ª± b√¨nh y√™n, an th·∫ßn, tho·∫£i m√°i</label>
            <label><input type="radio" name="q20" value="P">S·ª± ti·∫øn b·ªô, c·∫£m gi√°c m·∫°nh m·∫Ω</label>
            <label><input type="radio" name="q20" value="K">C∆° th·ªÉ nh·∫π nh√†ng, nƒÉng l∆∞·ª£ng tƒÉng l√™n</label>
          </div>
        </div>
      </section>

      <button type="submit">Xem k·∫øt qu·∫£ Dosha</button>
    </form>

    <div id="results" style="display:none;"></div>

    <p class="footer-note">L∆∞u √Ω: B√†i tr·∫Øc nghi·ªám n√†y ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o, gi√∫p b·∫°n hi·ªÉu h∆°n v·ªÅ b·∫£n th√¢n theo g√≥c nh√¨n Ayurveda.</p>
  </div>

  <script>
    const form = document.getElementById('doshaQuiz');
    const resultsDiv = document.getElementById('results');
    const RECEIVER_EMAIL = 'giangmetta@gmail.com';

    // Fallback cho iOS Safari c≈© kh√¥ng h·ªó tr·ª£ :has() selector
    document.querySelectorAll('.options input[type="radio"]').forEach(function(radio) {
      radio.addEventListener('change', function() {
        var name = this.name;
        document.querySelectorAll('input[name="' + name + '"]').forEach(function(r) {
          r.parentElement.classList.remove('selected');
        });
        if (this.checked) {
          this.parentElement.classList.add('selected');
        }
      });
    });

    const doshaInfo = {
      V: {
        name: 'Vata',
        element: 'Gi√≥',
        traits: 'Nh·∫π, hay lo, nƒÉng l∆∞·ª£ng th·∫•t th∆∞·ªùng, d·ªÖ l·∫°nh, s√°ng t·∫°o, linh ho·∫°t.',
        yoga: ['Hatha Yoga', 'Yin Yoga', 'Restorative Yoga', 'Yoga Nidra'],
        goal: '·ªîn ƒë·ªãnh ‚Äì Ti·∫øp ƒë·∫•t ‚Äì An th·∫ßn ‚Äì Th∆∞ gi√£n',
        whyYoga: 'Vata c√≥ nƒÉng l∆∞·ª£ng gi√≥ - nh·∫π, hay thay ƒë·ªïi, d·ªÖ lo √¢u v√† m·∫•t ng·ªß. V√¨ v·∫≠y c·∫ßn nh·ªØng b√†i t·∫≠p <strong>ch·∫≠m, gi·ªØ t∆∞ th·∫ø l√¢u</strong> nh∆∞ Yin Yoga hay Restorative ƒë·ªÉ "neo" l·∫°i, gi√∫p h·ªá th·∫ßn kinh ƒë∆∞·ª£c ngh·ªâ ng∆°i. Hatha truy·ªÅn th·ªëng v·ªõi nh·ªãp ch·∫≠m gi√∫p Vata c·∫£m th·∫•y ƒë∆∞·ª£c ti·∫øp ƒë·∫•t v√† ·ªïn ƒë·ªãnh h∆°n.',
        avoid: 'Tr√°nh c√°c l·ªõp h·ªçc qu√° nhanh, nh·∫°c ·ªìn √†o ho·∫∑c m√¥i tr∆∞·ªùng ƒë√¥ng ƒë√∫c - s·∫Ω l√†m Vata th√™m b·∫•t an.'
      },
      P: {
        name: 'Pitta',
        element: 'L·ª≠a',
        traits: 'M·∫°nh m·∫Ω, n√≥ng, quy·∫øt ƒëo√°n, d·ªÖ c√°u, t·∫≠p trung cao, nhi·ªát huy·∫øt.',
        yoga: ['Gentle Flow', 'Hatha nh·∫π', 'Cooling Yoga', 'Yoga Nidra'],
        goal: 'L√†m d·ªãu ‚Äì C√¢n b·∫±ng ‚Äì Gi·∫£m s·ª©c √©p n·ªôi l·ª±c',
        whyYoga: 'Pitta ƒë√£ c√≥ s·∫µn "l·ª≠a" b√™n trong - nhi·ªát huy·∫øt, c·∫°nh tranh, d·ªÖ n√≥ng gi·∫≠n. N·∫øu t·∫≠p Power Yoga hay Hot Yoga s·∫Ω th√™m "d·∫ßu v√†o l·ª≠a". Thay v√†o ƒë√≥, <strong>Gentle Flow v√† Cooling Yoga</strong> gi√∫p h·∫° nhi·ªát, c√¢n b·∫±ng. Yoga Nidra d·∫°y Pitta bu√¥ng b·ªè thay v√¨ lu√¥n c·ªë g·∫Øng ƒë·∫°t m·ª•c ti√™u.',
        avoid: 'Tr√°nh Hot Yoga, Bikram ho·∫∑c c√°c l·ªõp qu√° c·∫°nh tranh - Pitta d·ªÖ b·ªã cu·ªën v√†o vi·ªác "th·∫Øng" thay v√¨ th∆∞ gi√£n.'
      },
      K: {
        name: 'Kapha',
        element: 'ƒê·∫•t & N∆∞·ªõc',
        traits: 'V·ªØng ch√£i, ch·∫≠m, b·ªÅn b·ªâ nh∆∞ng d·ªÖ tr√¨ tr·ªá, d·ªÖ tƒÉng c√¢n, ƒëi·ªÅm tƒ©nh.',
        yoga: ['Vinyasa Yoga', 'Power Yoga (c∆° b·∫£n)', 'Ashtanga Level 1'],
        goal: 'K√≠ch ho·∫°t ‚Äì TƒÉng nƒÉng l∆∞·ª£ng ‚Äì Gi·∫£m √¨',
        whyYoga: 'Kapha v·ªën ƒë√£ ch·∫≠m, ·ªïn ƒë·ªãnh v√† d·ªÖ "√¨". N·∫øu t·∫≠p Yin Yoga hay Restorative s·∫Ω c√†ng th√™m tr√¨ tr·ªá. Kapha c·∫ßn <strong>Vinyasa v·ªõi nh·ªãp ƒë·ªô</strong> ƒë·ªÉ k√≠ch ho·∫°t nƒÉng l∆∞·ª£ng, ƒë√°nh th·ª©c c∆° th·ªÉ. T·∫≠p bu·ªïi s√°ng s·ªõm hi·ªáu qu·∫£ nh·∫•t v√¨ ƒë√≥ l√† gi·ªù Kapha (6-10h s√°ng).',
        avoid: 'Tr√°nh c√°c l·ªõp qu√° ch·∫≠m ho·∫∑c t·∫≠p v√†o bu·ªïi t·ªëi - Kapha c·∫ßn ƒë∆∞·ª£c "ƒë√°nh th·ª©c" ch·ª© kh√¥ng ph·∫£i ru ng·ªß th√™m.'
      }
    };

    // Th√¥ng tin cho dual-dosha (keys theo th·ª© t·ª± alphabet: K, P, V)
    const dualDoshaInfo = {
      'PV': {
        name: 'Vata-Pitta',
        traits: 'S√°ng t·∫°o v√† quy·∫øt ƒëo√°n, nh∆∞ng d·ªÖ cƒÉng th·∫≥ng, hay lo v√† n√≥ng v·ªôi.',
        yoga: ['Hatha Yoga c√¢n b·∫±ng', 'Gentle Flow', 'Yoga Nidra'],
        advice: 'C·∫ßn b√†i t·∫≠p v·ª´a ƒë·ªß nh·∫π ƒë·ªÉ an th·∫ßn Vata, v·ª´a ƒë·ªß m√°t ƒë·ªÉ h·∫° nhi·ªát Pitta. T·∫≠p trung v√†o h∆°i th·ªü v√† kh√¥ng qu√° c·∫°nh tranh.'
      },
      'KV': {
        name: 'Vata-Kapha', 
        traits: 'S√°ng t·∫°o nh∆∞ng hay tr√¨ ho√£n, nƒÉng l∆∞·ª£ng l√™n xu·ªëng th·∫•t th∆∞·ªùng, d·ªÖ lo √¢u khi stress.',
        yoga: ['Hatha Yoga', 'Gentle Vinyasa', 'Yin-Yang Yoga'],
        advice: 'C·∫ßn s·ª± c√¢n b·∫±ng - ƒë·ªß ƒë·ªông ƒë·ªÉ k√≠ch ho·∫°t Kapha, ƒë·ªß ·ªïn ƒë·ªãnh ƒë·ªÉ neo Vata. T·∫≠p ƒë·ªÅu ƒë·∫∑n l√† ch√¨a kh√≥a.'
      },
      'KP': {
        name: 'Pitta-Kapha',
        traits: 'M·∫°nh m·∫Ω, b·ªÅn b·ªâ, quy·∫øt t√¢m cao nh∆∞ng d·ªÖ c·ª©ng ƒë·∫ßu v√† t√≠ch t·ª• nhi·ªát trong ng∆∞·ªùi.',
        yoga: ['Vinyasa Flow', 'Hatha ƒë·ªông', 'Swimming Yoga'],
        advice: 'C·∫ßn b√†i t·∫≠p nƒÉng ƒë·ªông ƒë·ªÉ k√≠ch ho·∫°t Kapha, nh∆∞ng kh√¥ng qu√° n√≥ng ƒë·ªÉ tr√°nh tƒÉng Pitta. T·∫≠p ngo√†i tr·ªùi ho·∫∑c ph√≤ng m√°t.'
      },
      'KPV': {
        name: 'Tri-Dosha (Vata-Pitta-Kapha)',
        traits: 'Hi·∫øm g·∫∑p! B·∫°n c√≥ s·ª± c√¢n b·∫±ng t·ª± nhi√™n c·ªßa c·∫£ 3 dosha - linh ho·∫°t, m·∫°nh m·∫Ω v√† ·ªïn ƒë·ªãnh.',
        yoga: ['Hatha Yoga truy·ªÅn th·ªëng', 'Vinyasa nh·∫π', 'Yoga theo m√πa'],
        advice: 'Th·ªÉ t·∫°ng c√¢n b·∫±ng c√≥ th·ªÉ t·∫≠p nhi·ªÅu lo·∫°i yoga kh√°c nhau. ƒêi·ªÅu quan tr·ªçng l√† l·∫Øng nghe c∆° th·ªÉ m·ªói ng√†y v√† ch·ªçn b√†i t·∫≠p ph√π h·ª£p v·ªõi tr·∫°ng th√°i hi·ªán t·∫°i.'
      }
    };

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // T·ª± ƒë·ªông ch·ªçn ng·∫´u nhi√™n cho c√°c c√¢u ch∆∞a tr·∫£ l·ªùi
      const allQuestions = form.querySelectorAll('.question');
      allQuestions.forEach(q => {
        const radios = q.querySelectorAll('input[type="radio"]');
        const isAnswered = Array.from(radios).some(r => r.checked);
        if (!isAnswered && radios.length > 0) {
          const randomIndex = Math.floor(Math.random() * radios.length);
          radios[randomIndex].checked = true;
        }
      });

      // T√≠nh ƒëi·ªÉm
      const scores = { V: 0, P: 0, K: 0 };
      for (let i = 1; i <= 20; i++) {
        const selected = document.querySelector('input[name="q' + i + '"]:checked');
        if (selected) {
          scores[selected.value]++;
        }
      }

      // X√°c ƒë·ªãnh dosha ch√≠nh v√† ph·ª•
      // V·ªõi 20 c√¢u, m·ªói dosha max ~7-8 ƒëi·ªÉm, n√™n threshold=1 l√† h·ª£p l√Ω
      const maxScore = Math.max(scores.V, scores.P, scores.K);
      const threshold = 1; // Ch√™nh l·ªách <= 1 ƒëi·ªÉm = coi nh∆∞ ngang nhau
      
      const dominantDoshas = [];
      if (maxScore - scores.V <= threshold) dominantDoshas.push('V');
      if (maxScore - scores.P <= threshold) dominantDoshas.push('P');
      if (maxScore - scores.K <= threshold) dominantDoshas.push('K');

      // X√°c ƒë·ªãnh lo·∫°i th·ªÉ t·∫°ng
      let doshaType = 'single'; // single, dual, tri
      let doshaKey = dominantDoshas[0];
      
      if (dominantDoshas.length === 3) {
        doshaType = 'tri';
        doshaKey = 'KPV'; // alphabet order
      } else if (dominantDoshas.length === 2) {
        doshaType = 'dual';
        doshaKey = dominantDoshas.sort().join(''); // alphabet order: K, P, V
      }

      // Redirect to result page with scores
      const resultPageMap = {
        'V': 'vata',
        'P': 'pitta', 
        'K': 'kapha',
        'PV': 'vata-pitta',
        'KV': 'vata-kapha',
        'KP': 'pitta-kapha',
        'KPV': 'tri-dosha'
      };
      const resultPage = resultPageMap[doshaKey] || 'vata';
      const resultUrl = 'results/' + resultPage + '.html?v=' + scores.V + '&p=' + scores.P + '&k=' + scores.K;
      window.location.href = resultUrl;
      return;

      let html = '<h3>K·∫øt qu·∫£ Dosha c·ªßa b·∫°n</h3>';
      
      html += '<div class="dosha-result">';
      html += '<div class="dosha-score vata' + (dominantDoshas.includes('V') ? ' dominant' : '') + '"><div class="name">Vata</div><div class="points">' + scores.V + '</div></div>';
      html += '<div class="dosha-score pitta' + (dominantDoshas.includes('P') ? ' dominant' : '') + '"><div class="name">Pitta</div><div class="points">' + scores.P + '</div></div>';
      html += '<div class="dosha-score kapha' + (dominantDoshas.includes('K') ? ' dominant' : '') + '"><div class="name">Kapha</div><div class="points">' + scores.K + '</div></div>';
      html += '</div>';

      let resultName, resultYoga, emailDoshaName;

      // Map key to CSS class name
      const doshaClassMap = { V: 'vata', P: 'pitta', K: 'kapha' };

      if (doshaType === 'single') {
        // Th·ªÉ t·∫°ng ƒë∆°n
        const primary = doshaInfo[doshaKey];
        resultName = primary.name + ' ‚Äì ' + primary.element;
        resultYoga = primary.yoga;
        emailDoshaName = primary.name;
        
        html += '<div class="primary-dosha ' + doshaClassMap[doshaKey] + '">';
        html += '<h4>Th·ªÉ t·∫°ng c·ªßa b·∫°n: ' + primary.name + ' ‚Äì ' + primary.element + '</h4>';
        html += '<p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> ' + primary.traits + '</p>';
        html += '<p><strong>M·ª•c ti√™u khi t·∫≠p Yoga:</strong> ' + primary.goal + '</p>';
        html += '<div class="yoga-recommendation">';
        html += '<strong>Phong c√°ch Yoga ph√π h·ª£p:</strong>';
        html += '<ul>';
        primary.yoga.forEach(y => { html += '<li>' + y + '</li>'; });
        html += '</ul>';
        html += '<p style="margin-top:12px;"><strong>T·∫°i sao?</strong> ' + primary.whyYoga + '</p>';
        html += '</div>';
        html += '<p style="margin-top:14px; padding:12px; background:rgba(0,0,0,0.03); border-radius:8px;"><strong>L∆∞u √Ω:</strong> ' + primary.avoid + '</p>';
        html += '</div>';
      } else {
        // Dual ho·∫∑c Tri-dosha
        const dual = dualDoshaInfo[doshaKey];
        resultName = dual.name;
        resultYoga = dual.yoga;
        emailDoshaName = dual.name;
        
        html += '<div class="primary-dosha dual">';
        html += '<h4>Th·ªÉ t·∫°ng c·ªßa b·∫°n: ' + dual.name + '</h4>';
        html += '<p style="background:rgba(156,175,136,0.15); padding:10px 14px; border-radius:8px; margin-bottom:14px;"><em>H·∫ßu h·∫øt m·ªçi ng∆∞·ªùi ƒë·ªÅu mang 2-3 dosha, kh√¥ng ai ho√†n to√†n ch·ªâ c√≥ 1 dosha. ƒêi·ªÅu n√†y ho√†n to√†n b√¨nh th∆∞·ªùng!</em></p>';
        html += '<p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> ' + dual.traits + '</p>';
        html += '<div class="yoga-recommendation">';
        html += '<strong>Phong c√°ch Yoga ph√π h·ª£p:</strong>';
        html += '<ul>';
        dual.yoga.forEach(y => { html += '<li>' + y + '</li>'; });
        html += '</ul>';
        html += '</div>';
        html += '<p style="margin-top:14px;"><em>' + dual.advice + '</em></p>';
        html += '</div>';
        
        // Hi·ªÉn th·ªã chi ti·∫øt t·ª´ng dosha
        html += '<div style="margin-top:20px;"><h4 style="font-family:Cormorant Garamond,serif; color:var(--earth-brown); margin-bottom:14px;">Chi ti·∫øt t·ª´ng th·ªÉ t·∫°ng:</h4>';
        dominantDoshas.forEach(d => {
          const info = doshaInfo[d];
          html += '<details style="margin-bottom:12px; background:white; padding:14px; border-radius:12px; border:1px solid rgba(156,175,136,0.2);">';
          html += '<summary style="cursor:pointer; font-weight:600; color:var(--earth-brown);">' + info.name + ' ‚Äì ' + info.element + '</summary>';
          html += '<div style="margin-top:12px; padding-top:12px; border-top:1px dashed rgba(156,175,136,0.3);">';
          html += '<p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> ' + info.traits + '</p>';
          html += '<p style="margin-top:8px;"><strong>Yoga ph√π h·ª£p:</strong> ' + info.yoga.join(', ') + '</p>';
          html += '<p style="margin-top:8px;"><strong>T·∫°i sao?</strong> ' + info.whyYoga + '</p>';
          html += '</div></details>';
        });
        html += '</div>';
      }

      // Email content
      let emailBody = 'Ch√†o c√¥ Giang,\n\nƒê√¢y l√† k·∫øt qu·∫£ tr·∫Øc nghi·ªám Dosha c·ªßa em:\n\n';
      emailBody += 'Vata: ' + scores.V + ' ƒëi·ªÉm\n';
      emailBody += 'Pitta: ' + scores.P + ' ƒëi·ªÉm\n';
      emailBody += 'Kapha: ' + scores.K + ' ƒëi·ªÉm\n\n';
      emailBody += 'Th·ªÉ t·∫°ng: ' + emailDoshaName + '\n';
      emailBody += 'Yoga ph√π h·ª£p: ' + resultYoga.join(', ') + '\n\n';
      emailBody += 'Tr√¢n tr·ªçng.';

      const mailtoLink = 'mailto:' + encodeURIComponent(RECEIVER_EMAIL) + 
        '?subject=' + encodeURIComponent('K·∫øt qu·∫£ tr·∫Øc nghi·ªám Dosha') + 
        '&body=' + encodeURIComponent(emailBody);

      html += '<p style="margin-top:16px;"><button type="button" id="emailBtn" style="background:#e53935; color:#fff; border:none; padding:12px 20px; border-radius:999px; font-size:15px; cursor:pointer; min-height:44px;">G·ª≠i k·∫øt qu·∫£ cho c√¥ Giang</button></p>';
      html += '<div class="share-buttons"><button type="button" id="fbShareBtn" class="share-btn">Chia s·∫ª k·∫øt qu·∫£</button></div>';

      resultsDiv.innerHTML = html;
      resultsDiv.style.display = 'block';

      const shareTextSummary = 'K·∫øt qu·∫£ tr·∫Øc nghi·ªám Dosha c·ªßa t√¥i: ' + resultName + '. Yoga ph√π h·ª£p: ' + resultYoga.join(', ') + '.';
      const fbShareUrl = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href) + '&quote=' + encodeURIComponent(shareTextSummary);

      document.getElementById('emailBtn').addEventListener('click', function() {
        window.location.href = mailtoLink;
      });

      document.getElementById('fbShareBtn').addEventListener('click', async function() {
        if (navigator.share) {
          try {
            await navigator.share({
              title: 'Tr·∫Øc nghi·ªám Dosha - Metta Yoga ƒê√† L·∫°t',
              text: shareTextSummary,
              url: window.location.href
            });
          } catch (err) {
            if (err.name !== 'AbortError') {
              window.location.href = fbShareUrl;
            }
          }
        } else {
          window.location.href = fbShareUrl;
        }
      });

      // Smooth scroll to results
      if ('scrollBehavior' in document.documentElement.style) {
        resultsDiv.scrollIntoView({ behavior: 'smooth' });
      } else {
        var targetRect = resultsDiv.getBoundingClientRect();
        var targetY = window.pageYOffset + targetRect.top - 50;
        window.scrollTo(0, targetY);
      }
    });
  </script>
</body>
</html>
